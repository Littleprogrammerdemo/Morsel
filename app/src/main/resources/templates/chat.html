<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Chat</title>
    <link rel="stylesheet" th:href="@{/css/chat.css}">
</head>
<body>

<nav>
    <a th:href="@{'/messages/inbox/' + ${user1}}">Inbox</a> |
    <a th:href="@{'/messages/history/' + ${user1}}">Chat History</a>
</nav>

<div class="container">
    <h1>Chat between <span th:text="${user1}"></span> and <span th:text="${user2}"></span></h1>

    <ul>
        <li th:each="message : ${messages}">
            <strong th:text="${message.sender}"></strong>:
            <span th:text="${message.content}"></span>
        </li>
    </ul>

    <h2>Send a New Message</h2>
    <form action="/messages/send" method="post">
        <input type="hidden" name="sender" th:value="${user1}">
        <input type="hidden" name="receiver" th:value="${user2}">
        <textarea name="content" required placeholder="Type your message..."></textarea>
        <button type="submit">Send</button>
    </form>
</div>

</body>
</html>
